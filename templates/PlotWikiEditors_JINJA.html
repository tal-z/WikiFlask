<!DOCTYPE html>
<style>

    /* Figure wrapper contains:
        -Title
        -Chart
        -Legend
    */

        .figure-wrapper {
            display: inline-block;
        }

        .title {
             text-align: center;
             font-family: "Lucida Console", "Courier New", monospace;
             font-size: 20px;
             padding-left: 45px;


        }

        #chart{
            display: inline-block;
        }


        .editors a {
            padding-left: 3px;
            display: inline-block;
            overflow: visible;
            vertical-align:top;
            width: auto;
            max-width:30%;
            white-space: nowrap;
        }

        #circle {
            display: inline-block;
            width: 16px;
            height: 16px;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
            white-space: nowrap;
        }


    /* Legend contains:
        -Circles
        -Editors
    */

    .legend {
        padding: 3px 3px 3px 3px;
        margin-top: 14px;
        display: inline-block;
        vertical-align:top;
        background: white;
        border-style: solid;
        border-color: black;
        border-width: 1px;
    }

    </style>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plot Wikipedia Editors</title>
</head>
<body>

<div class="figure-wrapper">
    <div class="title">{{title}}</div>

    <div id="chart"><img class="about" src="{{image}}" onerror="this.onerror=null; this.src='static/W_mark.png'" alt="Click below"/></div>

    <div class="legend">

        <div class="editors">
            {% for item in user_colors %}

                <div id="circle" style="background: {{item[1]}}"></div>
                <a href="https://en.wikipedia.org/wiki/Special:Contributions/{{item[0]}}" >{{item[0]}}</a>
                <br>

            {% endfor %}
        </div>
    </div>
</div>

   <form action="/plot_wiki_editors_JINJA"   id=plot_wiki_editors_JINJA>
            <label class="label" for="page_title">Enter Page Title Here:</label><br>
            <input class="searchbox" type="text" id="page_title" placeholder="Enter the title of a Wikipedia page." name="page_title"><br>
            <button type="submit">Plot Editor Activity!</button>
        </form>

               <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
<script type="text/javascript">
$(".searchbox").autocomplete({
    source: function(request, response) {
        console.log(request.term);
        $.ajax({
            url: "http://en.wikipedia.org/w/api.php",
            dataType: "jsonp",
            data: {
                'action': "opensearch",
                'format': "json",
                'search': request.term
            },
            success: function(data) {
                response(data[1]);
            }
        });
    }
});
</script>

</body>
</html>